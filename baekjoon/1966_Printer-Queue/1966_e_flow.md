# 프린터 큐 문제 흐름 & 구현 정리

## ✅ 문제 설명 요약

- 여러 개의 문서가 프린터 대기열에 있고,
- 각 문서에는 **중요도(priority)**가 부여되어 있음
- 프린터는 **가장 중요한 문서부터** 인쇄
- 내가 궁금한 문서가 **몇 번째로 인쇄되는지 출력**하는 문제

---

## 📌 핵심 흐름 요약

1. **큐(Queue)**를 사용해 문서들을 `[인덱스, 중요도]` 형태로 저장
2. 반복문으로 큐를 돌면서:
   - **뒤에 더 중요한 문서가 있으면** → 현재 문서를 **큐 뒤로 보냄**
   - **그렇지 않으면** → 문서를 **인쇄 처리** (`count++`)
3. 인쇄되는 문서가 내가 찾는 문서이면 → `console.log(count)` 후 종료

---

## 🧾 코드 전체 흐름 설명

### 📌 입력 처리

```js
const input = fs.readFileSync("/dev/stdin").toString().trim().split("\n");
const T = parseInt(input[0]); // 테스트 케이스 수
let line = 1;
```

- `T`: 테스트 케이스 수
- `line = 1`: 두 번째 줄부터 본격 입력 시작을 위해 지정
- `input[1]`, `input[2]`, ... 순차적으로 읽음

---

### 📌 테스트 케이스 반복

```js
for (let t = 0; t < T; t++) {
```

- 테스트 케이스 수만큼 반복
- `t = 0`부터 시작해서 `t < T`까지 → 총 `T`번 반복

---

### 📌 문서 수 / 궁금한 문서 위치 / 중요도

```js
const [N, M] = input[line++].split(" ").map(Number);
const priorities = input[line++].split(" ").map(Number);
```

- `N`: 문서 개수 (실제로는 사용되지 않음 — 구조 파싱용)
- `M`: 내가 궁금한 문서의 인덱스 위치
- `priorities`: 문서들의 중요도 리스트

---

### 📌 큐 구성

```js
let queue = priorities.map((priority, idx) => [idx, priority]);
```

- `queue`: 문서를 `[문서 번호(인덱스), 중요도]` 쌍으로 저장
- ex) `[[0,1], [1,1], [2,9], [3,1], ...]`

---

### 📌 인쇄 순서 추적 변수

```js
let count = 0;
```

- 인쇄된 문서의 개수를 세기 위한 변수
- 궁금한 문서가 몇 번째로 인쇄됐는지 출력하기 위해 필요

---

### 📌 인쇄 시뮬레이션 (while loop)

```js
while (queue.length) {
  const current = queue.shift();
  const hasHigher = queue.some((item) => item[1] > current[1]);

  if (hasHigher) {
    queue.push(current); // 더 중요한 문서가 있다면, 현재 문서를 뒤로 보냄
  } else {
    count++; // 현재 문서를 인쇄
    if (current[0] === M) {
      console.log(count); // 궁금한 문서가 인쇄되었으면 종료
      break;
    }
  }
}
```

---

## 🧠 용어 정리 및 해석

| 변수명       | 역할 및 의미                                      |
| ------------ | ------------------------------------------------- |
| `T`          | 테스트 케이스 수                                  |
| `line`       | 현재 읽을 입력 줄 번호                            |
| `[N, M]`     | 문서 개수, 내가 궁금한 문서 위치                  |
| `priorities` | 문서들의 중요도 리스트 배열                       |
| `queue`      | `[문서번호, 중요도]` 형태의 큐                    |
| `count`      | 몇 번째로 인쇄되는지 카운트                       |
| `current`    | 현재 꺼낸 문서                                    |
| `hasHigher`  | 큐에 `current`보다 높은 중요도 문서가 있는지 여부 |

---

## ✅ 인쇄 로직 다시 정리하자면

1. 큐에서 문서를 꺼낸다
2. 뒤에 더 높은 중요도 문서가 있으면 → 현재 문서를 다시 뒤로
3. 없다면 → 인쇄 처리 (`count++`)
4. 이때 내가 궁금한 문서라면 → `console.log(count)` 후 종료

---

## 🔍 핵심 요약 문장

> 중요한 문서 순서대로 정리(=출력 준비)하고,  
> 순차적으로 인쇄되다가,  
> 내가 찾는 문서가 인쇄되는 순간 **출력하고 종료**.

---

## 🔁 실제 코드 흐름 요약 (중요한 부분 설명)

```js
let queue = priorities.map((priority, idx) => [idx, priority]);
// 각 문서를 [문서번호, 중요도] 쌍으로 저장

let count = 0; // 인쇄 순서를 세는 변수

while (queue.length) {
  const current = queue.shift(); // 맨 앞 문서 꺼냄

  const hasHigher = queue.some((item) => item[1] > current[1]);
  // 뒤에 더 중요한 문서가 있는지 확인

  if (hasHigher) {
    queue.push(current); // 다시 큐 뒤로
  } else {
    count++; // 인쇄 처리!

    if (current[0] === M) {
      console.log(count); // 내가 찾는 문서면 출력
      break; // 종료
    }
  }
}
```

<!-- ```js
console.log(`📤 꺼낸 문서: ${current}`);
console.log(`📋 큐 상태: ${JSON.stringify(queue)}`);
console.log(`🔍 더 높은 중요도 있음? ${hasHigher}`);
console.log(`🖨️ 현재 인쇄 순서: ${count}\n`);
``` -->

---

## 🧠 이해 포인트 정리

| 개념               | 설명                              |
| ------------------ | --------------------------------- |
| `queue.length`     | 큐가 비어 있지 않을 때까지 반복   |
| `some()`           | 뒤에 더 중요한 문서가 있는지 확인 |
| `count++`          | 문서가 **인쇄될 때만** 증가       |
| `current[0] === M` | 내가 찾는 문서인지 체크           |
| 종료 조건          | 찾던 문서가 인쇄되면 `break`      |

---

## 📌 핵심 요약 문장

> 중요한 문서부터 출력되도록 정리하고,  
> 내가 찾는 문서가 인쇄되는 시점에 프로그램이 멈추며  
> 그때의 출력 순서를 `console.log(count)`로 알려준다.

---

## ✅ 예시 흐름 (입력: 6 0 / 1 1 9 1 1 1)

1. `[0, 1]` → 뒤에 9 있음 → 뒤로 보냄
2. `[1, 1]` → 뒤에 9 있음 → 뒤로
3. `[2, 9]` → 인쇄 (count = 1)
4. `[3, 1]` → 인쇄 (count = 2)
5. `[4, 1]` → 인쇄 (count = 3)
6. `[5, 1]` → 인쇄 (count = 4)
7. `[0, 1]` → 인쇄됨 → 내가 궁금한 문서 → ✅ count = 5

✅ 결과 출력: `5`

---

## 🧾 자주 하는 질문 요약

### ❓ Q. 중요한 문서가 다 빠지면 어떻게 돼?

- 👉 그 이후로는 **순서대로 인쇄됨**

### ❓ Q. 내가 궁금한 문서가 인쇄되면?

- 👉 그 순간에 `console.log(count)` 후 **종료됨**

### ❓ Q. 중요도가 동일한 문서는?

- 👉 먼저 들어온 문서부터 인쇄 (FIFO)

---

## 💡 실전 요약

- 중요도 높은 문서가 있다면 → 인쇄 연기
- 중요도 높은 문서가 없으면 → 인쇄 진행 + count 증가
- 내가 찾는 문서가 인쇄되면 → 그 순간 출력 후 종료!
